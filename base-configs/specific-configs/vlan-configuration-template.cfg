
! Aplicable a: Catalyst 2960, 2950, 3560 series
! Version: 1.0

enable

configure terminal

! Crear VLANs adicionales
vlan 10
name VENTAS
exit

vlan 20
name MARKETING
exit

vlan 30
name ADMINISTRACION
exit

vlan 99
name ADMINISTRACION_SWITCH
exit

! ===== SALIR Y GUARDAR =====
exit
copy running-config startup-config

! ===================================================================
! CONFIGURACIÓN DE PUERTOS DE ACCESO
! ===================================================================

! ===== PUERTO DE ACCESO INDIVIDUAL =====
enable
configure terminal

interface FastEthernet0/1
description PC Ventas
switchport mode access
switchport access vlan 10
spanning-tree portfast
no shutdown
exit

exit
copy running-config startup-config

! ===== CONFIGURACIÓN MASIVA DE PUERTOS DE ACCESO =====
enable
configure terminal

! Puertos para VLAN Ventas
interface range FastEthernet0/1-8
description PCs VLAN Ventas
switchport mode access
switchport access vlan 10
spanning-tree portfast
no shutdown
exit

! Puertos para VLAN Marketing
interface range FastEthernet0/9-16
description PCs VLAN Marketing
switchport mode access
switchport access vlan 20
spanning-tree portfast
no shutdown
exit

! Puertos para VLAN Administración
interface range FastEthernet0/17-20
description PCs VLAN Administracion
switchport mode access
switchport access vlan 30
spanning-tree portfast
no shutdown
exit

exit
copy running-config startup-config

! ===================================================================
! CONFIGURACIÓN DE PUERTOS TRONCALES
! ===================================================================

! ===== PUERTO TRONCAL BÁSICO (FASTETHERNET) =====
enable
configure terminal

interface FastEthernet0/24
description Trunk to Router
switchport mode trunk
switchport trunk allowed vlan all
no shutdown
exit

exit
copy running-config startup-config

! ===== PUERTO TRONCAL CON VLANs ESPECÍFICAS (GIGABITETHERNET) =====
enable
configure terminal

interface GigabitEthernet0/1
description Trunk to Distribution Switch
switchport mode trunk
switchport trunk allowed vlan 1,10,20,30,99
switchport trunk native vlan 99
no shutdown
exit

exit
copy running-config startup-config

! ===================================================================
! CONFIGURACIÓN DE SVI (Switch Virtual Interface)
! ===================================================================

! ===== INTERFAZ DE ADMINISTRACIÓN (VLAN 99) =====
enable
configure terminal

! Crear VLAN de administración
vlan 99
name ADMINISTRACION_SWITCH
exit

! Configurar SVI
interface vlan 99
description Management Interface
ip address 192.168.99.10 255.255.255.0
no shutdown
exit

! Configurar gateway por defecto
ip default-gateway 192.168.99.1

exit
copy running-config startup-config

! ===================================================================
! SEGURIDAD BÁSICA DE PUERTOS
! ===================================================================

! ===== PUERTO DE ACCESO CON SEGURIDAD BÁSICA =====
enable
configure terminal

interface FastEthernet0/1
description PC Seguro
switchport mode access
switchport access vlan 10
switchport port-security
switchport port-security maximum 1
switchport port-security mac-address sticky
spanning-tree portfast
no shutdown
exit

exit
copy running-config startup-config

! ===== CONFIGURACIÓN DE PUERTOS NO UTILIZADOS =====
enable
configure terminal

! Crear VLAN para puertos no utilizados
vlan 999
name UNUSED_PORTS
exit

! Configurar puertos no utilizados (buena práctica de seguridad)
interface range FastEthernet0/21-23
description Unused Ports
switchport access vlan 999
shutdown
exit

exit
copy running-config startup-config

! ===================================================================
! COMANDOS DE VERIFICACIÓN
! ===================================================================

! ===== COMANDOS BÁSICOS DE VERIFICACIÓN =====
! show vlan brief
! show vlan
! show interfaces trunk
! show interfaces FastEthernet0/1 switchport
! show mac address-table
! show spanning-tree
! show interfaces status

! ===== CONFIGURACIÓN SW1 COMPLETA =====
! enable
! configure terminal
! vlan 10
! name VENTAS
! exit
! vlan 20
! name MARKETING
! exit
! interface FastEthernet0/1
! switchport access vlan 10
! no shutdown
! exit
! interface FastEthernet0/2
! switchport access vlan 10
! no shutdown
! exit
! interface FastEthernet0/24
! switchport mode trunk
! no shutdown
! exit
! exit
! copy running-config startup-config

! ===================================================================
! TROUBLESHOOTING VLANs
! ===================================================================

! 1. VERIFICAR CREACIÓN DE VLAN
! show vlan brief

! 2. VERIFICAR CONFIGURACIÓN DEL PUERTO
! show interfaces FastEthernet0/1 switchport

! 3. VERIFICAR TABLA MAC POR VLAN
! show mac address-table vlan 10

! 4. VERIFICAR CONECTIVIDAD ENTRE DISPOSITIVOS DE LA MISMA VLAN
! ping desde PC1 a PC3 (ambos en VLAN 10)

! 5. VERIFICAR CONFIGURACIÓN DEL ENLACE TRONCAL
! show interfaces trunk

! 6. VERIFICAR SPANNING TREE POR VLAN
! show spanning-tree vlan 10

! ===================================================================
! PASOS DE TROUBLESHOOTING SISTEMÁTICO:
! ===================================================================
! 1. ¿Está la VLAN creada? (show vlan brief)
! 2. ¿Está el puerto asignado a la VLAN correcta? (show interfaces switchport)
! 3. ¿Está el puerto activo? (show interfaces status)
! 4. ¿Hay conectividad física? (check cables)
! 5. ¿Está configurado el trunk correctamente? (show interfaces trunk)
! 6. ¿Están los dispositivos en la misma VLAN? (verificar configuración)