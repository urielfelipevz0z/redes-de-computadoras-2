
! Aplicable a: ISR 1841, ISR 2911 con módulos seriales
! Version: 1.0

! ===== CONFIGURACIÓN SERIAL BÁSICA =====

! ===== DCE (Data Communications Equipment) =====
enable
configure terminal

interface Serial0/0/0
description WAN Link to Remote-Site
ip address 10.1.1.1 255.255.255.252
clock rate 64000
no shutdown
exit

exit
copy running-config startup-config

! ===== DTE (Data Terminal Equipment) =====
enable
configure terminal

interface Serial0/0/1
description WAN Link to Remote-Site
ip address 10.1.1.2 255.255.255.252
no shutdown
exit

exit
copy running-config startup-config

! ===================================================================
! CONFIGURACIÓN PPP
! ===================================================================

! ===== PPP BÁSICO (LADO DCE) =====
enable
configure terminal

interface Serial0/0/0
description PPP Link to Remote-Site
ip address 10.1.1.1 255.255.255.252
encapsulation ppp
clock rate 64000
no shutdown
exit

exit
copy running-config startup-config

! ===== PPP BÁSICO (LADO DTE) =====
enable
configure terminal

interface Serial0/0/0
description PPP Link to Remote-Site
ip address 10.1.1.2 255.255.255.252
encapsulation ppp
no shutdown
exit

exit
copy running-config startup-config

! ===================================================================
! CONFIGURACIÓN PPP CON AUTENTICACIÓN PAP
! ===================================================================

! ===== PPP CON PAP (ROUTER 1 - DCE) =====
enable
configure terminal

! Configurar usuario para autenticación
username Router2 password cisco123

interface Serial0/0/0
description PPP Link with PAP to Router2
ip address 10.1.1.1 255.255.255.252
encapsulation ppp
ppp authentication pap
clock rate 64000
no shutdown
exit

exit
copy running-config startup-config

! ===== PPP CON PAP (ROUTER 2 - DTE) =====
enable
configure terminal

! Configurar usuario para autenticación
username Router1 password cisco123

interface Serial0/0/0
description PPP Link with PAP to Router1
ip address 10.1.1.2 255.255.255.252
encapsulation ppp
ppp authentication pap
no shutdown
exit

exit
copy running-config startup-config

! ===================================================================
! CONFIGURACIÓN PPP CON AUTENTICACIÓN CHAP
! ===================================================================

! ===== PPP CON CHAP (ROUTER 1 - DCE) =====
enable
configure terminal

! Configurar usuario para autenticación CHAP
username Router2 password cisco123

interface Serial0/0/0
description PPP Link with CHAP to Router2
ip address 10.1.1.1 255.255.255.252
encapsulation ppp
ppp authentication chap
clock rate 64000
no shutdown
exit

exit
copy running-config startup-config

! ===== PPP CON CHAP (ROUTER 2 - DTE) =====
enable
configure terminal

! Configurar usuario para autenticación CHAP
username Router1 password cisco123

interface Serial0/0/0
description PPP Link with CHAP to Router1
ip address 10.1.1.2 255.255.255.252
encapsulation ppp
ppp authentication chap
no shutdown
exit

exit
copy running-config startup-config

! ===================================================================
! CONFIGURACIÓN AVANZADA - MÚLTIPLES ENLACES SERIALES
! ===================================================================

! ===== CONFIGURACIÓN DE MÚLTIPLES INTERFACES SERIALES =====
enable
configure terminal

! Serial 0/0/0 (DCE)
interface Serial0/0/0
description WAN Link to Site-A
ip address 10.1.1.1 255.255.255.252
clock rate 64000
no shutdown
exit

! Serial 0/0/1 (DTE)
interface Serial0/0/1
description WAN Link to Site-B
ip address 10.1.1.5 255.255.255.252
no shutdown
exit

exit
copy running-config startup-config

! ===================================================================
! COMANDOS DE VERIFICACIÓN Y TROUBLESHOOTING
! ===================================================================

! ===== COMANDOS DE VERIFICACIÓN =====
! show controllers serial 0/0/0
! show interfaces serial 0/0/0
! show ip interface brief
! show ppp all
! show ppp multilink
! ping 10.1.1.2

! ===== PING EXTENDIDO PARA PRUEBAS WAN =====
! ping
! Protocol [ip]: 
! Target IP address: 10.1.1.2
! Repeat count [5]: 10
! Datagram size [100]: 1500
! Timeout in seconds [2]: 5
! Extended commands [n]: y
! Source address or interface: 10.1.1.1
! Type of service [0]: 
! Set DF bit in IP header? [no]: 
! Validate reply data? [no]: 
! Data pattern [0xABCD]: 
! Loose, Strict, Record, Timestamp, Verbose[none]: 
! Sweep range of sizes [n]: y
! Sweep min size [36]: 64
! Sweep max size [18024]: 1500
! Sweep interval [1]: 100

! ===================================================================
! ESQUEMAS DE DIRECCIONAMIENTO WAN
! ===================================================================

! ===== DIRECCIONAMIENTO /30 (RECOMENDADO PARA ENLACES PUNTO A PUNTO) =====
! Subred 1: 10.1.1.0/30   (Hosts: 10.1.1.1 - 10.1.1.2)
! Subred 2: 10.1.1.4/30   (Hosts: 10.1.1.5 - 10.1.1.6)
! Subred 3: 10.1.1.8/30   (Hosts: 10.1.1.9 - 10.1.1.10)
! Subred 4: 10.1.1.12/30  (Hosts: 10.1.1.13 - 10.1.1.14)

! ===== CLOCK RATES DISPONIBLES =====
! clock rate 56000    (56 Kbps)
! clock rate 64000    (64 Kbps) - Más común en laboratorio
! clock rate 128000   (128 Kbps)
! clock rate 256000   (256 Kbps)
! clock rate 512000   (512 Kbps)
! clock rate 1544000  (T1 - 1.544 Mbps)
! clock rate 2048000  (E1 - 2.048 Mbps)

! ===================================================================
! TROUBLESHOOTING SISTEMÁTICO WAN
! ===================================================================

! PASO 1: VERIFICAR HARDWARE
! show controllers serial 0/0/0

! PASO 2: VERIFICAR CONFIGURACIÓN DE INTERFAZ
! show ip interface brief

! PASO 3: VERIFICAR DETALLES DE LA INTERFAZ
! show interfaces serial 0/0/0

! PASO 4: VERIFICAR CONECTIVIDAD BÁSICA
! ping [remote-interface-ip]

! PASO 5: VERIFICAR ESTADO PPP (SI APLICA)
! show ppp all

! PASO 6: VERIFICAR TABLA DE ENRUTAMIENTO
! show ip route

! ===================================================================
! PROBLEMAS COMUNES Y SOLUCIONES:
! ===================================================================

! PROBLEMA: Interfaz Down/Down
! SOLUCIÓN: 
! 1. Verificar cables físicos
! 2. Verificar clock rate en DCE
! 3. Verificar comando no shutdown

! PROBLEMA: Interfaz Up/Down  
! SOLUCIÓN:
! 1. Verificar encapsulación en ambos extremos
! 2. Para PPP, verificar autenticación
! 3. Verificar configuración de protocolo

! PROBLEMA: No hay conectividad
! SOLUCIÓN:
! 1. Verificar direccionamiento IP
! 2. Verificar rutas estáticas o dinámicas
! 3. Usar traceroute para identificar punto de falla