enable
configure terminal
hostname SW0

! Deshabilitar búsqueda DNS
no ip domain-lookup

! Crear VLANs usadas en la topología
vlan 10
 name VLAN_10
exit
vlan 20
 name VLAN_20
exit
vlan 30
 name VLAN_30
exit

! Spanning-tree recomendado
spanning-tree mode pvst
spanning-tree extend system-id

! Configurar trunks hacia router y otros switches
interface FastEthernet0/1
 switchport mode trunk
 switchport trunk allowed vlan 10,20,30
 no shutdown
exit

interface FastEthernet0/2
 switchport mode trunk
 switchport trunk allowed vlan 10,20,30
 no shutdown
exit

interface FastEthernet0/3
 switchport mode trunk
 switchport trunk allowed vlan 10,20,30
 no shutdown
exit

! Configurar interfaz Fa0/4 como access VLAN 20
interface FastEthernet0/4
 switchport mode access
 switchport access vlan 20
 no shutdown
exit

! Configurar interfaz Fa0/5 como access VLAN 10
interface FastEthernet0/5
 switchport mode access
 switchport access vlan 10
 no shutdown
exit

! Configurar interfaz Fa0/5 como access VLAN 10
interface FastEthernet0/5
 switchport mode access
 switchport access vlan 10
 no shutdown
exit

interface GigabitEthernet0/1
 switchport mode trunk
 switchport trunk allowed vlan 10,20,30
 no shutdown
exit

vtp domain REDES_FIE
vtp mode server
vtp password cisco123
vtp version 2

! Deshabilitar VLAN 1
interface Vlan1
 shutdown
exit

! Consola y VTY
line console 0
 logging synchronous
exit

line vty 0 15
 login
exit

end
write memory